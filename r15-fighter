--R15 Fighter
-- All you see is red, go fight
_G.Run = false
plr = game.Players.LocalPlayer
local c = game.Players.LocalPlayer.Character
local song = Instance.new("Sound",c)
song.SoundId = getcustomasset("spin.mp3")
song.Looped = true
song.Volume = 1
song:Play()
for i,v in pairs(game.Players.LocalPlayer.Character.Humanoid:GetPlayingAnimationTracks()) do
    v:Stop()
end
C3 = Color3.new
local alive = true
local lplr = game:GetService("Players").LocalPlayer
local Character = lplr.Character
local script = game:GetObjects("rbxassetid://9717225780")[1]
sick = song
local VISUALS = game.Lighting
local VISUALSSz = game.Lighting
local Bloom = script.Bloom
Bloom.Parent = VISUALS
script["C-Correction"].Parent = VISUALS
VISUALS["C-Correction"].TintColor = Color3.fromRGB(160,0,0)
local oldtod = game.Lighting.TimeOfDay
function FixLighting()
	game.Lighting.Ambient = Color3.fromRGB(70, 70, 70)
	game.Lighting.OutdoorAmbient = Color3.fromRGB(70, 70, 70)
	game.Lighting.FogColor = Color3.fromRGB(192, 192, 192)
	game.Lighting.TimeOfDay = "11:00:00"
	pcall(function()
	VISUALS["C-Correction"]:Destroy()
	Bloom:Destroy()
	end)
	game.Lighting.ExposureCompensation = 0
	game.Lighting.FogEnd = 100000
	game.Lighting.Brightness = 2.25
	workspace.CurrentCamera.FieldOfView = 70 
end
coroutine.resume(coroutine.create(function()
	while alive == true do
		wait()
			VISUALS.FogColor =  C3(math.min(1,sick.PlaybackLoudness/750),math.min(1,0),math.min(1,0))
			VISUALS.Ambient = C3(math.min(1,sick.PlaybackLoudness/750),math.min(1,0),math.min(1,0))
			VISUALS.OutdoorAmbient = C3(math.min(1,sick.PlaybackLoudness/750),math.min(1,0),math.min(1,0))
			VISUALS.TimeOfDay = 0
			Bloom.Intensity = 0 + sick.PlaybackLoudness/500
			VISUALSSz.ExposureCompensation = 0 + sick.PlaybackLoudness/130
			VISUALSSz.FogEnd = sick.PlaybackLoudness
			VISUALSSz.Brightness = 3
			VISUALS.EnvironmentDiffuseScale = 0 + sick.PlaybackLoudness/100
			VISUALS["C-Correction"].Contrast= 0.1 + sick.PlaybackLoudness/1000
			workspace.CurrentCamera.FieldOfView = 70 - sick.PlaybackLoudness/100
	end
	
end))
local h = c.Humanoid
h.UseJumpPower = true
local a = c.Animate
local olh = h.HipHeight
h.HipHeight = olh
local UserInputService = game:GetService("UserInputService")
if _G.Run == false then
h.WalkSpeed = 24
a.run.RunAnim.AnimationId = "rbxassetid://13761449655"
else
h.WalkSpeed = 45
a.run.RunAnim.AnimationId = "rbxassetid://13761220615"
end
a.fall:Destroy()
a.jump.JumpAnim.AnimationId = "rbxassetid://13813559069"
a.idle.Animation1.AnimationId = "rbxassetid://1014390418"
a.idle.Animation2.AnimationId = "rbxassetid://1014398616"
a.toolnone.ToolNoneAnim.AnimationId = "rbxassetid://0"
     local slice = Instance.new("Animation")
     slice.AnimationId = "rbxassetid://13882574863"
     local slicep = game.Players.LocalPlayer.Character.Humanoid.Animator:LoadAnimation(slice)
      
     local slice2 = Instance.new("Animation")
     slice2.AnimationId = "rbxassetid://13882579000"
     local slicep2 = game.Players.LocalPlayer.Character.Humanoid.Animator:LoadAnimation(slice2)

     local punch = Instance.new("Animation")
     punch.AnimationId = "rbxassetid://13593839963"
     local punchp = game.Players.LocalPlayer.Character.Humanoid.Animator:LoadAnimation(punch)
        
     local pto = Instance.new("Animation")
     pto.AnimationId = "rbxassetid://13574621523"
     local ptop = game.Players.LocalPlayer.Character.Humanoid.Animator:LoadAnimation(pto)
     
     local kick = Instance.new("Animation")
     kick.AnimationId = "rbxassetid://13593830055"
     local kickp = game.Players.LocalPlayer.Character.Humanoid.Animator:LoadAnimation(kick)
     
     local function fix(anim)
     anim:AdjustSpeed(1)
     wait(anim.Length)
     anim:AdjustSpeed(0)
     wait(0.025)
     anim:Stop()
     for i,v in pairs(game.Players.LocalPlayer.Character.Humanoid:GetPlayingAnimationTracks()) do
     	v:Stop()
	 end
	    h.HipHeight = olh
h.JumpPower = 0.1
wait(.025)
h.Jump = true
wait(.025)
h.JumpPower = 50
wait(.005)
anim:Stop()
wait(.005)
anim:Stop()
wait(.005)
anim:Stop()
end
local function animp(id)
      --h.HipHeight = olh
     local annim = Instance.new("Animation")
     annim.AnimationId = "rbxassetid://"..id
     local animp = game.Players.LocalPlayer.Character.Humanoid.Animator:LoadAnimation(annim)
     animp:Play()
     wait()
     fix(animp)
     end
UserInputService.InputBegan:Connect(function(Input, IsTyping)
if IsTyping == false then
if Input.KeyCode == Enum.KeyCode.E then
   slicep:Play()
    slicep.Ended:Connect(function()
    slicep:Stop()
    end)
 fix(slicep)
   elseif  Input.KeyCode == Enum.KeyCode.R then
   slicep2:Play()
    slicep2.Ended:Connect(function()
    slicep2:Stop()
    end)
fix(slicep2)
      elseif  Input.KeyCode == Enum.KeyCode.Q then
      h.HipHeight = olh
   punchp:Play()
   punchp.Ended:Connect(function()
   h.HipHeight = olh 
   punchp:Stop()
   end)
  fix(punchp)
    elseif  Input.KeyCode == Enum.KeyCode.T then
      h.HipHeight = olh
   ptop:Play()
   ptop.Ended:Connect(function()
   h.HipHeight = olh
   ptop:Stop()
   end)
fix(ptop)
    elseif  Input.KeyCode == Enum.KeyCode.F then
      h.HipHeight = olh
   kickp:Play()
   kickp.Ended:Connect(function()
   h.HipHeight = olh 
   kickp:Stop()
   end)
fix(kickp)
   elseif  Input.KeyCode == Enum.KeyCode.Z then 
         for i,v in pairs(game.Players.LocalPlayer.Character.Humanoid:GetPlayingAnimationTracks()) do
    v:Stop()
end
   if h.WalkSpeed == 16 then
h.WalkSpeed = 24
h.HipHeight = olh 
a.run.RunAnim.AnimationId = "rbxassetid://13761449655"
elseif h.WalkSpeed == 24 then
h.HipHeight = olh
h.WalkSpeed = 45
a.run.RunAnim.AnimationId = "rbxassetid://13585113452"
elseif h.WalkSpeed == 45 then
h.HipHeight = olh
h.WalkSpeed = 16 
a.run.RunAnim.AnimationId = "rbxassetid://387947975"
end
h.JumpPower = 0.1
wait(.005)
h.Jump = true
wait(.005)
h.JumpPower = 50
   elseif  Input.KeyCode == Enum.KeyCode.C then 
   animp("13593837026")
end
end
end)
 local connect = game:GetService("RunService").Heartbeat:Connect(function(set)
for i,v in next, game.Players.LocalPlayer.Character.Humanoid:GetPlayingAnimationTracks() do
if v.Name == "RunAnim" then
v:AdjustSpeed(1.1059)
	end
	end
	end)

game.Players.LocalPlayer.CharacterAdded:Connect(function()
alive = false
task.wait(.1)
FixLighting()
end)
warn("R15 Fighter - All You See Is Red, Go Fight!")
